!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("hyperapp")):"function"==typeof define&&define.amd?define(["exports","hyperapp"],n):n(t.context={},t.hyperapp)}(this,function(t,n){"use strict";function e(t,n){return n=n||{},null==t?t:"function"==typeof t?e(t(n,function(t){n=Object.assign({},n,t)}),n):Array.isArray(t)?(t=t.map(function(t){return e(t,n)}),t=(t=Array.prototype.concat.apply([],t)).filter(function(t){return null!=t})):t.attributes?{nodeName:t.nodeName,attributes:Object.assign({},t.attributes),children:e(t.children,n)}:t}function r(t){return function(n,r){return function(u){return t(n,e(r),u)}}}t.withContext=function(t){return function(n,r,u,o){return t(n,r,function(t,n){var r=e(u(t,n));return r&&(r.length?r[0]:r)},o)}},t.processor=r,t.decorator=function(t){return r(function(n,e,r){var u=t(n,r);return e.map(function(t){return t.attributes?(Object.keys(u).forEach(function(n){if("class"===n){var e=t.attributes.class,r=u.class;t.attributes.class=(e?e+" ":"")+(r||"")}else if("on"===n.substr(0,2)){var o=t.attributes[n],i=u[n];t.attributes[n]=o?function(t,n){o(t,n),i(t,n)}:i}else t.attributes[n]=u[n]}),t):t})})},t.nestable=function(t,r,u,o){return r._$r=function(){return{}},function(i,c){return function(a){return n.h(o||"x-",{key:i.key,id:i.id,class:i.class,oncreate:function(o){o._$p=i,o._$c=c,o._$x=a;var s=n.app(t,r,function(t,n){var r=u(t,n);return"function"==typeof r&&(r=r(o._$p,o._$c)),(r=e(r,o._$x)).length?r[0]:r},o);o._$r=s._$r,o._$u=s.uninit,s.init&&s.init(i),i.oncreate&&i.oncreate(o)},onupdate:function(t){t._$p=i,t._$c=c,t._$x=a,t._$r(),i.onupdate&&i.onupdate(t)},ondestroy:function(t){t._$u&&t._$u(),i.ondestroy&&i.ondestroy(t)}})}}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=hyperapp-context.js.map