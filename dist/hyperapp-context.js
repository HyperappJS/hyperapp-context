!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.context={})}(this,function(t){"use strict";function n(t,e){return e=e||{},null==t?t:"function"==typeof t?n(t(e,function(t){e=Object.assign({},e,t)}),e):Array.isArray(t)?(t=t.map(function(t){return n(t,e)}),t=(t=Array.prototype.concat.apply([],t)).filter(function(t){return null!=t})):t.attributes?{nodeName:t.nodeName,attributes:Object.assign({},t.attributes),children:n(t.children,e)}:t}function e(t){return function(e,r){return function(u){return t(e,n(r),u)}}}t.withContext=function(t){return function(e,r,u,o){return t(e,r,function(t,e){var r=n(u(t,e));return r&&(r.length?r[0]:r)},o)}},t.processor=e,t.decorator=function(t){return e(function(n,e,r){var u=t(n,r);return e.map(function(t){return t.attributes?(Object.keys(u).forEach(function(n){if("class"===n){var e=t.attributes.class,r=u.class;t.attributes.class=(e?e+" ":"")+(r||"")}else if("on"===n.substr(0,2)){var o=t.attributes[n],i=u[n];t.attributes[n]=o?function(t,n){o(t,n),i(t,n)}:i}else t.attributes[n]=u[n]}),t):t})})},t.nestable=function(t,n,e,r){return n._$r=function(){return{}},function(u,o){return function(i){return h(r||"x-",{key:u.key,id:u.id,class:u.class,oncreate:function(r){r._$p=u,r._$c=o,r._$x=i;var c=app(t,n,function(t,n){var u=e(t,n);return"function"==typeof u&&(u=u(r._$p,r._$c)),(u=resolveNode(u,r._$x)).length?u[0]:u},r);r._$r=c._$r,r._$u=c.uninit,c.init&&c.init(u),u.oncreate&&u.oncreate(r)},onupdate:function(t){t._$p=u,t._$c=o,t._$x=i,t._$r(),u.onupdate&&u.onupdate(t)},ondestroy:function(t){t._$u&&t._$u(),u.ondestroy&&u.ondestroy(t)}})}}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=hyperapp-context.js.map