!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.context={})}(this,function(t){"use strict";function n(t,e){return e=e||{},null==t?t:"function"==typeof t?n(t(e,function(t){e=Object.assign({},e,t)}),e):Array.isArray(t)?(t=t.map(function(t){return n(t,e)}),t=(t=Array.prototype.concat.apply([],t)).filter(function(t){return null!=t})):t.attributes?{nodeName:t.nodeName,attributes:Object.assign({},t.attributes),children:n(t.children,e)}:t}function e(t){return function(e,r){return function(u){return t(e,n(r),u)}}}t.withContext=function(t){return function(e,r,u,o){return t(e,r,function(t,e){var r=n(u(t,e));return r&&(r.length?r[0]:r)},o)}},t.processor=e,t.decorator=function(t){return e(function(n,e,r){var u=t(n,r);return e.map(function(t){return t.attributes?(Object.keys(u).forEach(function(n){if("class"===n){var e=t.attributes.class,r=u.class;t.attributes.class=(e?e+" ":"")+(r||"")}else if("on"===n.substr(0,2)){var o=t.attributes[n],i=u[n];t.attributes[n]=o?function(t,n){o(t,n),i(t,n)}:i}else t.attributes[n]=u[n]}),t):t})})},t.nestable=function(t,e,r,u){return e._$r=function(){return{}},function(o,i){return function(c){return h(u||"x-",{key:o.key,id:o.id,class:o.class,oncreate:function(u){u._$p=o,u._$c=i,u._$x=c;var a=app(t,e,function(t,e){var o=r(t,e);return"function"==typeof o&&(o=o(u._$p,u._$c)),(o=n(o,u._$x)).length?o[0]:o},u);u._$r=a._$r,u._$u=a.uninit,a.init&&a.init(o),o.oncreate&&o.oncreate(u)},onupdate:function(t){t._$p=o,t._$c=i,t._$x=c,t._$r(),o.onupdate&&o.onupdate(t)},ondestroy:function(t){t._$u&&t._$u(),o.ondestroy&&o.ondestroy(t)}})}}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=hyperapp-context.js.map