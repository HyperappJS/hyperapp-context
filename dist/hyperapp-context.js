!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("hyperapp")):"function"==typeof define&&define.amd?define(["exports","hyperapp"],n):n(t.context={},t.hyperapp)}(this,function(t,n){"use strict";function e(t,n){return n=n||{},null==t?t:"function"==typeof t?e(t(n,function(t){n=Object.assign({},n,t)}),n):Array.isArray(t)?(t=t.map(function(t){return e(t,n)}),t=(t=Array.prototype.concat.apply([],t)).filter(function(t){return null!=t})):t.attributes?{nodeName:t.nodeName,attributes:Object.assign({},t.attributes),children:e(t.children,n)}:t}function r(t){return function(n,r){return function(o){return t(n,e(r),o)}}}t.withContext=function(t){return function(n,r,o,u){return t(n,r,function(t,n){var r=e(o(t,n));return r&&(r.length?r[0]:r)},u)}},t.processor=r,t.decorator=function(t){return r(function(n,e,r){var o=t(n,r);return e.map(function(t){return t.attributes?(Object.keys(o).forEach(function(n){if("class"===n){var e=t.attributes.class,r=o.class;t.attributes.class=(e?e+" ":"")+(r||"")}else if("on"===n.substr(0,2)){var u=t.attributes[n],i=o[n];t.attributes[n]=u?function(t,n){u(t,n),i(t,n)}:i}else t.attributes[n]=o[n]}),t):t})})},t.nestable=function(t,r,o,u){return r._$r=function(){return{}},function(i,c){return function(a){return n.h(u||"x-",{key:i.key,id:i.id,class:i.class,oncreate:function(u){u._$p=i,u._$c=c,u._$x=a;var f=n.app(t,r,function(t,n){var r=o(t,n);return"function"==typeof r&&(r=r(u._$p,u._$c)),(r=e(r,u._$x))&&r.length?r[0]:r},u);u._$r=f._$r,u._$u=f.uninit,f.init&&f.init(i),i.oncreate&&i.oncreate(u)},onupdate:function(t){t._$p=i,t._$c=c,t._$x=a,t._$r(),i.onupdate&&i.onupdate(t)},ondestroy:function(t){t._$u&&t._$u(),i.ondestroy&&i.ondestroy(t)},onremove:function(t,n){if(!i.onremove)return n();i.onremove(t,n)}})}}},Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=hyperapp-context.js.map